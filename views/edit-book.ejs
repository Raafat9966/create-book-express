<!DOCTYPE html>
<html lang="en">
	<%- include('./partials/head.ejs') %>
	<body>
		<%- include('./partials/header.ejs', {page: "add-book"}) %>
		<div class="container book-form">
			<form
				class="w-100"
				method="POST"
				action="/books/edit/<%= book._id %>?_method=PUT"
			>
				<h1></h1>
				<div class="mb-3">
					<label for="title" class="form-label">Book Title</label>
					<input
						type="text"
						class="form-control"
						id="title"
						name="title"
						value="<%= book.title %>"
					/>
				</div>
				<div class="mb-3">
					<label for="author" class="form-label">Book Author</label>
					<input
						type="text"
						class="form-control"
						id="author"
						name="author"
						value="<%= book.author %>"
					/>
				</div>
				<div class="mb-3">
					<label for="publishDate" class="form-label"
						>Publish Date</label
					>
					<input
						type="number"
						class="form-control"
						id="publishDate"
						name="publishDate"
						min="1800"
						max="2099"
						step="1"
						value="<%= book.publishDate %>"
					/>
				</div>
				<!-- <div class="mb-3">
					<label for="file" class="form-label">Upload file</label>
					<input
						type="file"
						class="form-control"
						id="file"
						name="file"
					/>
				</div> -->
				<div class="mb-3">
					<label for="summary" class="form-label">Book Summary</label>
					<textarea
						class="form-control"
						id="summary"
						name="summary"
						rows="5"
					>
<%= book.summary %></textarea
					>
				</div>
				<div class="mb-3">
					<button type="submit" class="btn btn-primary">
						Edit the Book
					</button>
					<% if(locals.message){ %>
					<div
						class="alert alert-success alert-dismissible fade show p-2 mt-2"
						role="alert"
					>
						<p class="m-0"><%=message.success%></p>
						<button
							type="button"
							class="btn-close btn-sm p-2 m-1"
							data-bs-dismiss="alert"
							aria-label="Close"
						></button>
					</div>
					<% } %>
				</div>
			</form>
		</div>
		<script>
			if (window.history.replaceState) {
				window.history.replaceState(null, null, window.location.href);
			}
		</script>
	</body>
</html>
